(function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,b.LocalStoragePro=a()}})(function(){return function(){function b(d,e,g){function a(j,i){if(!e[j]){if(!d[j]){var f="function"==typeof require&&require;if(!i&&f)return f(j,!0);if(h)return h(j,!0);var c=new Error("Cannot find module '"+j+"'");throw c.code="MODULE_NOT_FOUND",c}var k=e[j]={exports:{}};d[j][0].call(k.exports,function(b){var c=d[j][1][b];return a(c||b)},k,k.exports,b,d,e,g)}return e[j].exports}for(var h="function"==typeof require&&require,c=0;c<g.length;c++)a(g[c]);return a}return b}()({1:[function(a,b){function c(d){const e=d||{},a=Object.keys(e);this._events=0<a.length?a.reduce(function(b,a){return b[a]=Array.isArray(e[a])?e[a]:[e[a]],b},{}):{}}c.prototype._eventsWillBeFiredOnce={},c.prototype.on=function(f,a,b=null){if("function"!=typeof a||"string"!=typeof f)return!1;this._events.hasOwnProperty(f)||(this._events[f]=[]),this._eventsWillBeFiredOnce.hasOwnProperty(f)||(this._eventsWillBeFiredOnce[f]=[]);const c="[object Object]"===Object.prototype.toString.call(b)?b:{once:!1},d=this._events[f].push(a);return c.once&&!0===c.once&&this._eventsWillBeFiredOnce[f].push(d-1),!0},c.prototype.once=function(c,a){return this.on(c,a,{once:!0})},c.prototype.emit=function(e,f=[]){if(!this._events.hasOwnProperty(e)){if("error"==e){const b=f instanceof Error?f:new Error("Unhandled error.");throw b}return!1}const a=Array.isArray(f)?f:[f];for(let b=0;b<this._events[e].length;b++)this._events[e][b].apply(this,a);if(this._eventsWillBeFiredOnce.hasOwnProperty(e))for(var b=0;b<this._eventsWillBeFiredOnce[e].length;b++)this.removeListener(e,this._eventsWillBeFiredOnce[e][b]);return!0},c.prototype.removeListener=function(c,a){this._events[c].splice(a,1)},c.prototype.removeListeners=function(b){return"string"==typeof b&&!!this._events.hasOwnProperty(b)&&(this._events[b]=[],this._eventsWillBeFiredOnce.hasOwnProperty(b)&&(this._eventsWillBeFiredOnce[b]=[]),!0)},c.prototype.flushEventEmitter=function(){this._events={},this._eventsWillBeFiredOnce={}},b.exports=c},{}],2:[function(a,b){b.exports={getType:function(b){return this.isObject(b)?"object":this.isArray(b)?"array":this.isPromise(b)?"promise":this.isError(b)?"error":this.isDate(b)?"date":this.isNull(b)?"null":this.isUndefined(b)?"undefined":this.isFunction(b)?"function":this.isNumber(b)?"number":this.isNan(b)?"nan":this.isRegExp(b)?"regexp":this.isString(b)?"string":this.isBoolean(b)?"boolean":this.isDOMElement(b)?"domelement":"none"},isString:function(b){return"string"==typeof b},isObject:function(b){return"[object Object]"===Object.prototype.toString.call(b)},isArray:function(b){return Array.isArray(b)},isPromise:function(b){return!!(b&&"function"==typeof b.then)},isError:function(b){return b instanceof Error},isDate:function(b){return b instanceof Date},isFunction:function(b){return"function"==typeof b},isNull:function(b){return null===b},isUndefined:function(b){return"undefined"==typeof b},isNumber:function(b){return"number"==typeof b&&!0===Number.isFinite(b)},isInteger:function(b){return Number.isInteger(b)},isNan:function(b){return"number"==typeof b&&b!=+b},isRegExp:function(b){return b instanceof RegExp},isBoolean:function(b){return!0===b||!1===b},isDOMElement:function(b){return!!(b&&(b.nodeName||b.prop&&b.attr&&b.find))},isEmpty:function(b){return this.isObject(b)?this.isEqual({},b):this.isArray(b)?0===b.length:!!this.isNull(b)||!!this.isUndefined(b)||(this.isNumber(b)?this.isEqual(0,b):!!this.isNan(b)||(this.isString(b)?this.isEqual("",b):!!this.isBoolean(b)&&this.isEqual(!1,b)))},isEqual:function(j,a){if(j===a)return!0;if(null===j||null===a)return!1;const b=this.getType(j),c=this.getType(a);if(b!=c)return!1;switch(b){case"object":const k=Object.keys(j),d=Object.keys(a),e=k.length;if(e!==d.length)return!1;for(let b=0;b<e;b++){const c=k[b];if(-1===d.indexOf(c))return!1;if(!this.isEqual(j[c],a[c]))return!1}return!0;break;case"array":const f=j.length;if(f!==a.length)return!1;for(let b=0;b<f;b++)if(!this.isEqual(j[b],a[b]))return!1;return!0;break;case"error":const c=this.objectifyError(j),g=this.objectifyError(a);return this.isEqual(c,g);break;case"date":return j.getTime()===a.getTime();break;case"undefined":return!0;break;case"number":case"nan":case"string":case"boolean":case"domelement":return j===a;break;case"regexp":return j.toString()===a.toString();break;default:return!1;}},objectifyError:function(d){const a=JSON.stringify(d,Object.getOwnPropertyNames(d)),b=JSON.parse(a);return b.stack=b.stack.split(/[\n]/g),b},stringifyError:function(b){return JSON.stringify(this.objectifyError(b))}}},{}],3:[function(a,b){function c(){}const d=a("./methods/type"),e=Object.keys(d);for(var f=0;f<e.length;f++)c.prototype[e[f]]=d[e[f]];b.exports=new c},{"./methods/type":2}],4:[function(a,b){function c(a={}){this.error=null,this.window=a.window}c.prototype.test=function(){if("undefined"==typeof this.window||null===this.window)return!1;if("localStorage"in this.window){try{this.window.localStorage.setItem("test","pass"),this.window.localStorage.removeItem("test")}catch(a){return!1}return!0}return!1},c.prototype.clearError=function(){this.error=null},c.prototype.set=function(a,b){try{this.window.localStorage.setItem(a,b)}catch(a){return this.error=a,!1}return!0},c.prototype.get=function(a){return this.window.localStorage.getItem(a)},c.prototype.remove=function(a){return this.window.localStorage.removeItem(a),!0},c.prototype.clear=function(){return this.window.localStorage.clear(),!0},c.prototype.length=function(){return this.window.localStorage.length},c.prototype.key=function(a){return this.window.localStorage(a)},c.prototype.json=function a(){const a={};for(let b=0;b<this.length();b++){const c=this.window.localStorage.key(b);a[c]=this.get(c)}return a},b.exports=c},{}],5:[function(a,b){function c(){this.error=null,this.data={}}c.prototype.test=function(){return!0},c.prototype.clearError=function(){this.error=null},c.prototype.set=function(a,b){return this.data[a]=b,!0},c.prototype.get=function(a){return this.data.hasOwnProperty(a)?this.data[a]:null},c.prototype.remove=function(a){if(!this.data.hasOwnProperty(a))return null;const b=Object.keys(this.data),c={};for(let d=0;d<b.length;d++){const e=b[d];e!=a&&(c[e]=this.data[e])}return this.data=c,!0},c.prototype.clear=function(){return this.data={},!0},c.prototype.length=function(){return Object.keys(this.data).length},c.prototype.key=function(a){const b=Object.keys(this.data);return a<b.length&&0<=a?b[a]:null},c.prototype.json=function(){return this.data},b.exports=c},{}],6:[function(a,b){function c(a={}){e.call(this,{}),this.drivers={},this.driver=null,this.window=a.hasOwnProperty("window")?a.window:"undefined"==typeof window?null:window,this.addDriver("memory",g),this.addDriver("localStorage",f)}const d=a("my-little-lodash/dist/type"),e=a("event-emitter-object"),f=a("./drivers/localStorage"),g=a("./drivers/memory");c.prototype=Object.create(e.prototype),c.prototype.constructor=c,c.prototype.length=0,c.prototype.addDriver=function(a,b){const c=new b({window:this.window});!0===c.test()&&(this.drivers[a]=c,this.driver=this.drivers[a])},c.prototype.setItem=function(a,b,c=null){if(!this.isKeyValid(a))return void this.emit("error",new Error("INVALID_KEY"));const e=this.getDriver(c);return e?(e.set(this.formatKey(a),b),d.isError(e.error))?(this.emit("error",new Error("SET_ERROR"),e.error),void e.clearError()):(this.getLength(),!0):void 0},c.prototype.getItem=function(a,b=null){if(!this.isKeyValid(a))return void this.emit("error",new Error("INVALID_KEY"));const c=this.getDriver(b);if(c){const b=c.get(this.formatKey(a));return this.getLength(),b}},c.prototype.removeItem=function(a,b=null){if(!this.isKeyValid(a))return void this.emit("error",new Error("INVALID_KEY"));const c=this.getDriver(b);if(c)c.remove(this.formatKey(a)),this.getLength();else return;return!0},c.prototype.clear=function(a=null){const b=this.getDriver(a);return b&&(b.clear(),this.getLength()),!0},c.prototype.key=function(a=0,b=null){const c=this.getDriver(b);return c?c.getKey(a):null},c.prototype.getLength=function(a=null){const b=this.getDriver(a);return this.length=b?b.length():0,this.length},c.prototype.json=function(a=null){const b=this.getDriver(a);return b?b.json():0},c.prototype.isKeyValid=function(a){return d.isString(a)&&!d.isEmpty(a)||d.isNumber(a)},c.prototype.formatKey=function(a){return d.isNumber(a)?a.toString():a},c.prototype.availableDrivers=function(){return Object.keys(this.drivers)},c.prototype.getDriver=function(a=null){return d.isEmpty(a)?this.driver:-1===this.availableDrivers().indexOf(a)?void this.emit("error",new Error("DRIVER_NOT_FOUND")):this.drivers[a]},b.exports=c},{"./drivers/localStorage":4,"./drivers/memory":5,"event-emitter-object":1,"my-little-lodash/dist/type":3}]},{},[6])(6)});